# === Azure Document Intelligence ===
azure.docintel.endpoint=https://ocr-azure-intelligence.cognitiveservices.azure.com/
azure.docintel.key=${AZURE_DOCINTEL_KEY:}

# === Hugging Face Router ===
hf.router.url=https://router.huggingface.co/v1/chat/completions
hf.model=meta-llama/Llama-3.1-8B-Instruct:nebius
hf.token=${HF_TOKEN:}

# === Oracle Database ===
quarkus.datasource.db-kind=oracle
quarkus.datasource.username=datum_user
quarkus.datasource.password=datum2025
quarkus.datasource.jdbc.url=jdbc:oracle:thin:@localhost:1522/XEPDB1

# === Hibernate ===
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true

# === Logging ===
quarkus.log.level=INFO
quarkus.log.category."org.hibernate.SQL".level=DEBUG
quarkus.log.category."io.quarkus.smallrye.jwt".level=DEBUG
quarkus.log.category."io.smallrye.jwt".level=DEBUG
quarkus.log.category."io.quarkus.security".level=DEBUG

# === Azure Storage ===
azure.storage.account-name=storageocr2025
azure.storage.account-key=${AZURE_STORAGE_ACCOUNT_KEY:}
azure.storage.container-name=ocr-files

# === CORS ===
quarkus.http.cors=true
quarkus.http.cors.origins=${FRONTEND_ORIGINS:*}
quarkus.http.cors.methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
quarkus.http.cors.headers=Content-Type,Authorization

# === Seguridad / OIDC (Keycloak) - IGUAL QUE EL BACKEND PRINCIPAL ===
quarkus.oidc.enabled=true
quarkus.oidc.devservices.enabled=false
quarkus.oidc.auth-server-url=${KEYCLOAK_AUTH_SERVER_URL:http://${KEYCLOAK_HOST:localhost}:8180/realms/datum-travels}
quarkus.oidc.client-id=datum-app
# Usar "any" para aceptar tokens de localhost Y de la IP local (192.168.1.6)
quarkus.oidc.token.issuer=any
quarkus.oidc.token.principal-claim=preferred_username

# URLs públicas (no requieren autenticación)
quarkus.http.auth.permission.public.paths=/q/*,/swagger-ui/*,/health/*
quarkus.http.auth.permission.public.policy=permit

# URLs protegidas (requieren JWT válido)
quarkus.http.auth.permission.authenticated.paths=/api/*
quarkus.http.auth.permission.authenticated.policy=authenticated

# === OpenKM ===
openkm.enabled=${OPENKM_ENABLED:true}
openkm.fail-on-error=${OPENKM_FAIL_ON_ERROR:true}
openkm.webdav-url=${OPENKM_WEBDAV_URL:http://localhost:8087/OpenKM/webdav/}
openkm.collection-root=${OPENKM_COLLECTION_ROOT:okm:root/gastos}
openkm.username=${OPENKM_USERNAME:okmAdmin}
openkm.password=${OPENKM_PASSWORD:admin}
openkm.root-fixed-node=${OPENKM_ROOT_FIXED_NODE:true}


# HTTP server
quarkus.http.host=0.0.0.0
